# Ticket #004: 位置情報サービス実装

## 概要
Core Locationを使用した位置情報取得とバックグラウンド更新の実装

## 優先度: High
## 見積もり: 4h

## タスク
- [x] LocationManager作成
- [x] 権限リクエスト実装
  - [x] Info.plist更新
  - [x] 権限ダイアログのメッセージ設定
- [x] 位置情報更新の実装
  - [x] 通常時の更新設定
  - [x] 降車駅接近時の更新設定
- [x] バックグラウンド位置情報更新
  - [x] Background Modes設定
  - [x] 省電力対応
- [x] 位置情報精度の動的調整
- [x] エラーハンドリング
  - [x] GPS無効時の対応
  - [x] 権限拒否時の対応
- [x] 距離計算ユーティリティ

## 受け入れ条件
- 位置情報が正確に取得できる
- バックグラウンドでも動作
- バッテリー消費が適切

## 依存関係
- #001完了後に着手

## ステータス: [x] Completed

## 実装詳細
### LocationManager.swift
- 動的精度調整機能を実装
- バックグラウンド位置情報更新に対応
- 省電力最適化を実装
- 包括的なエラーハンドリングを追加

### Extensions.swift
- CLLocation拡張でベアリング計算と距離ユーティリティを追加
- CLAuthorizationStatus拡張で状態確認メソッドを追加
- 距離表示用の文字列フォーマット機能を追加

### 技術仕様準拠
- 通常時: 60秒間隔、精度100m
- 降車駅5km圏内: 30秒間隔、精度10m
- 降車駅2km圏内: 15秒間隔、精度Best
